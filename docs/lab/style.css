/* docs/lab/style.css */

:root {
  --bg-fallback: #0b1020;
  --fg: #e8f0ff;

  /* background tile */
  --tile-url: url("./assets/bg_tile_dark.jpeg");
  --tile-size: 128px;

  /* character size by device */
  --char-size: 204px; /* desktop */
}

* { box-sizing: border-box; }

html, body { height: 100%; }

body {
  margin: 0;
  color: var(--fg);
  font-family: system-ui, -apple-system, sans-serif;
  overflow-x: hidden;

  background-color: var(--bg-fallback);
  background-image: var(--tile-url);
  background-repeat: repeat;
  background-position: top left;
  background-size: var(--tile-size) var(--tile-size);
}

/* Prefer modern viewport units when available (mobile browser UI friendly) */
body { min-height: 100vh; }
@supports (min-height: 100svh) { body { min-height: 100svh; } }
@supports (min-height: 100dvh) { body { min-height: 100dvh; } }

/* Splash (loading screen) */
.splash {
  position: fixed;
  inset: 0;
  z-index: 9999;

  width: 100%;
  height: 100%;
  min-height: 100vh;

  display: flex;
  justify-content: center;
  align-items: center;
  padding: 0;

  /* 투명 배경 (no black/blur) */
  background: transparent;
  backdrop-filter: none;

  overflow: hidden;
}
@supports (min-height: 100svh) { .splash { min-height: 100svh; } }
@supports (min-height: 100dvh) { .splash { min-height: 100dvh; } }

.splash__inner {
  width: min(100vmin, 720px);
  aspect-ratio: 1 / 1;

  display: flex;
  justify-content: center;
  align-items: center;

  transform: scale(1.4);
  transform-origin: center;
}

@media (max-width: 420px) {
  .splash__inner {
    width: min(92vmin, 520px);
    transform: scale(1.1);
  }
}

.splash__img {
  width: 100%;
  height: 100%;
  object-fit: contain;

  display: block;
  user-select: none;
  pointer-events: none;

  image-rendering: pixelated;
  -webkit-tap-highlight-color: transparent;
}

@media (min-width: 768px) {
  .splash__inner {
    width: min(70vmin, 900px);
    transform: scale(1.35);
  }
}

/* After-load characters (shown after splash is removed) */
.afterload {
  position: fixed;
  inset: 0;
  z-index: 10;

  display: none; /* hidden until JS adds is-visible */

  padding: 24px;
  pointer-events: none; /* decorative for now */
}

.afterload.is-visible {
  display: grid;
  place-items: center;
}

.afterload__grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  align-items: center;
  justify-items: center;
  gap: 24px;
}

.afterload__img {
  width: var(--char-size);
  height: var(--char-size);
  display: block;

  image-rendering: pixelated;
  -webkit-tap-highlight-color: transparent;
}

@media (max-width: 1024px) {
  :root { --char-size: 192px; }
}

@media (max-width: 420px) {
  .afterload__grid { gap: 16px; }
  :root { --char-size: 168px; }
}