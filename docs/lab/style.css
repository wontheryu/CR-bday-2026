/* docs/lab/style.css */

:root {
  --bg-fallback: #0b1020;
  --fg: #e8f0ff;

  /* background tile */
  --tile-url: url("./assets/bg_tile_dark.jpeg");
  --tile-size: 128px;

  /* character size by device */
  --char-size: 204px; /* desktop */
}

* { box-sizing: border-box; }

html, body { height: 100%; }

body {
  margin: 0;
  color: var(--fg);
  font-family: system-ui, -apple-system, sans-serif;
  overflow-x: hidden;

  background-color: var(--bg-fallback);
  background-image: var(--tile-url);
  background-repeat: repeat;
  background-position: top left;
  background-size: var(--tile-size) var(--tile-size);
}

/* Prefer modern viewport units when available (mobile browser UI friendly) */
body { min-height: 100vh; }
@supports (min-height: 100svh) { body { min-height: 100svh; } }
@supports (min-height: 100dvh) { body { min-height: 100dvh; } }

/* Splash (loading screen) */
/* Splash (loading screen) */
.splash {
  position: fixed;
  inset: 0;
  z-index: 9999;

  /* iOS/모바일에서도 중앙 고정 안정화 */
  width: 100%;
  height: 100%;
  min-height: 100vh;
}
@supports (min-height: 100svh) { .splash { min-height: 100svh; } }
@supports (min-height: 100dvh) { .splash { min-height: 100dvh; } }

.splash {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 0;

  /* (원하면) 배경 유지: 검정 */
  background: #000;
  /* 만약 투명 원하면 아래로 바꿔 */
  /* background: transparent; */
  backdrop-filter: none;

  overflow: hidden; /* 확대 시 잘림 방지/안정 */
}

.splash__inner {
  /* 핵심: 모바일에서 '짧은 변' 기준 + 스케일로 2배 느낌 */
  width: min(100vmin, 720px);
  aspect-ratio: 1 / 1;

  display: flex;
  justify-content: center;
  align-items: center;

  /* ✅ 정수배 느낌의 확대 (원하면 2로 올려) */
  transform: scale(1.8);
  transform-origin: center;
}

.splash__img {
  width: 100%;
  height: 100%;
  object-fit: contain;

  display: block;
  user-select: none;
  pointer-events: none;

  image-rendering: pixelated;
  -webkit-tap-highlight-color: transparent;
}

/* PC에서는 과하게 커지지 않게 살짝 줄임 */
@media (min-width: 768px) {
  .splash__inner {
    width: min(70vmin, 900px);
    transform: scale(1.35);
  }
}
@media (min-width: 768px) {
  .splash__inner { width: min(80vmin, 1100px); max-width: 1100px; }
}

/* After-load characters (shown after splash is removed) */
.afterload {
  position: fixed;
  inset: 0;
  z-index: 10;

  /* hidden until JS adds is-visible */
  display: none;

  padding: 24px;
  pointer-events: none; /* decorative for now */
}

.afterload.is-visible {
  display: grid;
  place-items: center;
}

/* 2x2 layout */
.afterload__grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  align-items: center;
  justify-items: center;
  gap: 24px;
}

.afterload__img {
  width: var(--char-size);
  height: var(--char-size);
  display: block;

  image-rendering: pixelated;
  -webkit-tap-highlight-color: transparent;
}

/* tablet */
@media (max-width: 1024px) {
  :root { --char-size: 192px; }
}

/* mobile */
@media (max-width: 420px) {
  .afterload__grid { gap: 16px; }
  :root { --char-size: 168px; }
}