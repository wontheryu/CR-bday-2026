/* docs/lab/style.css */

:root {
  --bg-fallback: #0b1020;
  --fg: #e8f0ff;

  /* background tile */
  --tile-url: url("./assets/bg_tile_dark.jpeg");
  --tile-size: 128px;

  /* character size by device */
  --char-size: 204px; /* desktop */
}

* { box-sizing: border-box; }

html, body { height: 100%; }

body {
  margin: 0;
  color: var(--fg);
  font-family: system-ui, -apple-system, sans-serif;
  overflow-x: hidden;

  background-color: var(--bg-fallback);
  background-image: var(--tile-url);
  background-repeat: repeat;
  background-position: top left;
  background-size: var(--tile-size) var(--tile-size);
}

/* Prefer modern viewport units when available (mobile browser UI friendly) */
body { min-height: 100vh; }
@supports (min-height: 100svh) { body { min-height: 100svh; } }
@supports (min-height: 100dvh) { body { min-height: 100dvh; } }

/* Splash (loading screen) */
.splash {
  position: fixed;
  inset: 0;
  z-index: 9999;

  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;

  padding: 0;

  /* user request: remove dark/blur feel */
  background: transparent;
  backdrop-filter: none;
}

.splash__inner {
  width: min(100vmin, 960px);
  max-width: 960px;
  aspect-ratio: 1 / 1;

  display: grid;
  place-items: center;
}

.splash__img {
  width: 100%;
  height: 100%;
  object-fit: contain;
  display: block;

  image-rendering: pixelated;
  -webkit-tap-highlight-color: transparent;
  max-width: 100%;
}

@media (min-width: 768px) {
  .splash__inner { width: min(80vmin, 1100px); max-width: 1100px; }
}

/* After-load characters (shown after splash is removed) */
.afterload {
  position: fixed;
  inset: 0;
  z-index: 10;

  /* hidden until JS adds is-visible */
  display: none;

  padding: 24px;
  pointer-events: none; /* decorative for now */
}

.afterload.is-visible {
  display: grid;
  place-items: center;
}

/* 2x2 layout */
.afterload__grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  align-items: center;
  justify-items: center;
  gap: 24px;
}

.afterload__img {
  width: var(--char-size);
  height: var(--char-size);
  display: block;

  image-rendering: pixelated;
  -webkit-tap-highlight-color: transparent;
}

/* tablet */
@media (max-width: 1024px) {
  :root { --char-size: 192px; }
}

/* mobile */
@media (max-width: 420px) {
  .afterload__grid { gap: 16px; }
  :root { --char-size: 168px; }
}